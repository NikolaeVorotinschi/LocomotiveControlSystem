#include <stdio.h>
#include "brake.h"
#include "logger.h"

int brake_wear = 0; // –ò–∑–Ω–æ—Å —Ç–æ—Ä–º–æ–∑–æ–≤ –≤ %

void activate_brakes() {
    printf("üõë –¢–æ—Ä–º–æ–∂–µ–Ω–∏–µ...\n");
    brake_wear += 10;
    printf("‚ö†Ô∏è –ò–∑–Ω–æ—Å —Ç–æ—Ä–º–æ–∑–æ–≤: %d%%\n", brake_wear);

    log_event("–¢–æ—Ä–º–æ–∑–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω—ã!");

    if (brake_wear >= 100) {
        printf("‚ùå –¢–æ—Ä–º–æ–∑–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–Ω–æ—à–µ–Ω—ã! –¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–º–æ–Ω—Ç!\n");
        log_event("–¢–æ—Ä–º–æ–∑–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–Ω–æ—à–µ–Ω—ã!");
    }
}

void repair_brakes() {
    printf("üîß –†–µ–º–æ–Ω—Ç —Ç–æ—Ä–º–æ–∑–æ–≤...\n");
    brake_wear = 0;
    printf("‚úÖ –¢–æ—Ä–º–æ–∑–∞ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã!\n");

    log_event("–¢–æ—Ä–º–æ–∑–∞ –æ—Ç—Ä–µ–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã!");
}
